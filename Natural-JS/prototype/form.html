<div id="form">
	<div class="divBar">DATA</div>
	<div class="dataBox">
		<table>
			<tr>
				<td width="70"><label for="data">Data</label></td>
				<td width="*">
					<textarea id="data" class="data">
[
	{
	    "_id": "53e21cba9f982281b3459438",
	    "index": 0,
	    "guid": "1a9e5450-c664-4bfd-8174-d03005eca08d",
	    "isActive": "Y",
	    "balance": "1284.38",
	    "picture": "http://placehold.it/32x32",
	    "age": 26,
	    "eyeColor": "green",
	    "name": "Dean Stanley",
	    "gender": "male",
	    "company": ["ASSISTIX", "CANDECOR"],
	    "email": "deanstanley@zentia.com",
	    "phone": "+1 (920) 409-2680",
	    "address": "936 Meserole Street, Vicksburg, Massachusetts, 1198",
	    "about": "Mollit elit qui reprehenderit fugiat excepteur adipisicing sunt id proident laborum sint proident.\r\nAmet cupidatat ipsum do irure qui magna sunt pariatur commodo eiusmod ipsum qui ad culpa.",
	    "registered": "2014-02-20T03:58:09 -09:00",
	    "registered2": "2014-07-20T03:58:09 -09:00",
	    "latitude": 81.131606,
	    "longitude": 87.110498,
	    "greeting": "Hello, Dean Stanley! You have 1 unread messages.",
	    "favoriteFruit": ["strawberry", "banana"]
	},
    {
        "gender": [{
	        	"key" : "male",
	        	"val" : "male"
	        },{
	        	"key" : "female",
	        	"val" : "female"
        }],
        "eyeColor": [{
	        	"key" : "blue",
	        	"val" : "blue"
	        },{
	        	"key" : "brown",
	        	"val" : "brown"
	        },{
	        	"key" : "green",
	        	"val" : "green"
        }],
        "company": [{
	        	"key" : "PROSELY",
	        	"val" : "PROSELY"
	        },{
	        	"key" : "ASSISTIX",
	        	"val" : "ASSISTIX"
	        },{
	        	"key" : "VORATAK",
	        	"val" : "VORATAK"
	        },{
	        	"key" : "CANDECOR",
	        	"val" : "CANDECOR"
	        },{
	        	"key" : "BARKARAMA",
	        	"val" : "BARKARAMA"
	        },{
	        	"key" : "STOCKPOST",
	        	"val" : "STOCKPOST"
	        },{
	        	"key" : "MICROLUXE",
	        	"val" : "MICROLUXE"
	        },{
	        	"key" : "SHADEASE",
	        	"val" : "SHADEASE"
	        },{
	        	"key" : "ZENTIA",
	        	"val" : "ZENTIA"
        	},{
	        	"key" : "INTRADISK",
	        	"val" : "INTRADISK"
        }],
        "favoriteFruit": [{
	        	"key" : "apple",
	        	"val" : "apple"
	        },{
	        	"key" : "strawberry",
	        	"val" : "strawberry"
	        },{
	        	"key" : "banana",
	        	"val" : "banana"
        }]
    }
]
					</textarea>
				</td>
			</tr>
		</table>
	</div>
	<div class="divBar">DEMO</div>
	<div class="demoBox">
		<div class="btnBox">
			<a id="btnInitForm" href="#" class='{ "color": "skyblue", "size": "small" }'>Init Form</a>
			<a id="btnFormBind" href="#" class='{ "color": "white", "size": "small", "disable": true }'>Form Bind</a>
			<a id="btnGetData" href="#" class='{ "color": "white", "size": "small", "disable": true }'>Get Data</a>
			<a id="btnFormValidate" href="#" class='{ "color": "white", "size": "small", "disable": true }'>Form Validate</a>
		</div>
		<table id="inputBox" class='form'>
			<tr>
				<th width="85" align="right"><label for="picture">picture</label></th>
				<td width="*"><img id="picture" /></td>
			</tr>
			<tr>
				<th align="right"><label for="name">name</label></th>
				<td>
					<input id="name" type="text" class='{ "validate" : [["required"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="email">email</label></th>
				<td>
					<input id="email" type="text" class='{ "format" : [["trimtoempty"], ["generic", "@@@@@@＊＊＊"]], "validate" : [["required"], ["email"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="_id">password</label></th>
				<td>
					<input id="_id" type="password" class='{ "validate" : [["required"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="balance">balance</label></th>
				<td>
					<input id="balance" type="text" class='{ "format" : [["trimtoempty"], ["numeric", "$#,###.##0"]], "validate" : [["required"], ["decimal"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="phone">phone</label></th>
				<td>
					<input id="phone" type="text" readonly="readonly" />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="age">age</label></th>
				<td>
					<input id="age" type="text" disabled="disabled" />
					<input id="index" type="hidden" />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="eyeColor">eye color</label></th>
				<td>
					<select id="eyeColor" class='{ "validate" : [["required"]] }'>
						<option>선택</option>
					</select>
				</td>
			</tr>
			<tr>
				<th align="right"><label for="company">company</label></th>
				<td>
					<select id="company" multiple="multiple"></select>
				</td>
			</tr>
			<tr>
				<th align="right"><label for="gender">gender</label></th>
				<td>
					<input id="gender" type="radio" />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="favoriteFruit">favorite fruit</label></th>
				<td>
					<input id="favoriteFruit" type="checkbox" />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="registered">registered</label></th>
				<td>
					<input id="registered" type="text" class='{ "format": [["date", 8, "date"]], "validate" : [["required"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="registered2">registered m</label></th>
				<td>
					<input id="registered2" type="text" class='{ "format": [["date", 6, "month"]], "validate" : [["required"]] }' />
				</td>
			</tr>
			<tr>
				<th align="right"><label for="about">about</label></th>
				<td>
					<textarea id="about" rows="5" cols="80" class='{ "format" : [["trimtoempty"], ["limit", "50", "..."]], "validate" : [["required"], ["korean"]] }'></textarea>
				</td>
			</tr>
			<tr>
				<th align="right"><label for="greeting">about</label></th>
				<td id="greeting"></td>
			</tr>
			<tr>
				<th align="right"><label for="isActive">isActive</label></th>
				<td>
					<input id="isActive" type="checkbox" />
				</td>
			</tr>
		</table>
	</div>

	<div class="divBar">SOURCE</div>
	<div class="sourceBox">
	</div>
</div>

<script type="text/javascript">

N("div#form").service({
    init : function(view) {
    	this.initButton(view);
    	var data = eval(N("textarea.data").val());
    	this.createSelect(data);
    	this.setEvent(view, data)
    },
    createSelect : function(data) {
    	$(data[1].eyeColor).select("select#eyeColor").bind();
		$(data[1].company).select("select#company").bind();
		$(data[1].gender).select("input#gender").bind();
		$(data[1].favoriteFruit).select("input#favoriteFruit").bind();
    },
    initButton : function(view) {
    	N("div.btnBox", view).button();
    },
    setEvent : function(view, data) {
    	var form;
    	N("a#btnInitForm", view).click(function(e) {
    		form = N(data).form("table#inputBox");
    		N("div.btnBox", view).find("a").instance("button", function(u) {
            	this.enable();
            });
    	});
    	
        N("a#btnFormBind", view).click(function(e) {
            e.preventDefault();
            form.bind(0);
        });

        N("a#btnGetData", view).click(function(e) {
            e.preventDefault();
            N("table#inputBox").alert({
            	width: 500,
            	msg: '<div style="white-space: pre;word-break: break-word;">' + N.json.format(form.data()[0]) + '</div>'
            }).show()
        });
        
        N("a#btnFormValidate", view).click(function(e) {
            e.preventDefault();
            N("table#inputBox").alert('<b>전체검증 결과 : ' + form.validate() + '</b>').show()
        });
    },
    /**
     * for tab onOpen exemple
     */
    onOpen : function(onOpenData) {
    	N.log("onOpen 콜백 실행\nonOpenData :\n" + JSON.stringify(onOpenData));
    }
});

</script>
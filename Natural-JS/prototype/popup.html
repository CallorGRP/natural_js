<div id="popup">
	<div class="divBar">DEMO</div>
	<div class="demoBox">
		<div class="btnBox">
			<a id="btnInitPopup" href="#" class='{ "color": "gray", "size": "small" }'>init popup</a>
			<a id="btnOpenPopup" href="#" class='{ "color": "skyblue", "size": "small" }'>open popup</a>
			<a id="btnOtherPage" href="#" class='{ "color": "white", "size": "small" }'>다른페이지 불러오기</a>
		</div>
		<div class="data">
			<div id="popupTemp">
				<table id="loginForm" class='form' title="로그인">
					<tr>
						<th width="70"><label for="numeric">아이디</label></th>
						<td width="100">
							<input id="userId" type="text" maxlength="10" class='{ "validate" : [["required"], ["maxbyte", 10]] }' />
						</td>
						<td width="50" rowspan="2">
							<a id="btnLogin" class='{ "color": "skyblue", "size": "large" }'>로그인</a>
						</td>
					</tr>
					<tr>
						<th><label for="generic">패스워드</label></th>
						<td>
							<input id="userPw" type="password" maxlength="16" class='{ "validate" : [["required"]] }' />
						</td>
					</tr>
				</table>
			</div>
		</div>
	</div>

	<div class="divBar">SOURCE</div>
	<div class="sourceBox">
	</div>
</div>

<script type="text/javascript">

N("div#popup").service({
	localPopup : null,
    init : function(view) {
    	this.initButton(view);
    	this.setEvents(view);
    },
    initButton : function(view) {
    	N("div.btnBox", view).button();

    	N("a#btnLogin", view).button();
    	N("a#btnLogin", view).css("padding-top", "15px");
    	N("a#btnLogin", view).css("padding-bottom", "15px");

    	this.otherPagePopup = N().popup({
    		url : "prototype/form.html",
    		height : 450,
    		onOpen : "onOpen",
    		onClose : function(onCloseData) {
    			alert("onClose 콜백 실행\nonCloseData :\n" + JSON.stringify(onCloseData));
    		}
    	});
    },
    setEvents : function(view) {
    	var this_ = this;

    	N("a#btnInitPopup", view).click(function(e) {
            e.preventDefault();
            this_.localPopup = N("table#loginForm").popup();
        });

        N("a#btnOpenPopup", view).click(function(e) {
            e.preventDefault();
            this_.localPopup.open();
        });

        N("a#btnOtherPage", view).click(function(e) {
            e.preventDefault();
            this_.otherPagePopup.open({
            	onOpenData : "onOpen 할때 팝업으로 값 전송"
            });
        });
    }
});

</script>
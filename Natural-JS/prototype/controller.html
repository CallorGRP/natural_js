<div id="controller">
	<div class="intro">
		<h1><b>Common Controller</b> : Common Controller(N.controller)는 Communicator 를 이용하여 서버로 부터 JSON 데이터를 가져오고 컴포넌트의 데이터나 파라미터를 서보로 다시 보내는 역할을 수행 합니다.</h1>
		<h2>[Get json data from server] 버튼을 누르면 서버로 부터 JSON 데이터(prototype/data/grid.json)를 가져옵니다</h2>
		<h2>[Page embed] 버튼을 누르면 서버로 부터 페이지(prototype/datepicker.html)를 가져와 지정한 영역에 표시 해 줍니다.</h2>
	</div>
	<div class="divBar">DEMO</div>
	<div class="demoBox">
		<div class="btnBox">
			<a id="btnGetJson" href="#" class='{ "color": "skyblue", "size": "small" }'>Get json data from server</a>
			<a id="btnGetPage" href="#" class='{ "color": "gray", "size": "small" }'>Page embed</a>
		</div>
		<div class="result"></div>
	</div>

	<div class="divBar">SOURCE CODE</div>
	<div class="sourceBox">
	</div>
</div>

<script type="text/javascript">

N("div#controller").sc({
    init : function(view, request) {
    	// put source code
    	IndexServiceController.getSourceCode(request.get("url"), N("div.sourceBox"));

    	// initialize buttons in div.btnBox
    	this.initButton(view);

    	// bind events
    	this.setEvent(view, this);
    },
    initButton : function(view) {
    	N("div.btnBox", view).button();
    },
    setEvent : function(view, this_) {
    	N("a#btnGetJson", view).click(function(e) {
            e.preventDefault();
            N.controller({
        		url : "prototype/data/grid.json"
        	}).submit(function(data) {
        		N("div.result", view).text(JSON.stringify(data));
        	});
        });

    	N("a#btnGetPage", view).click(function(e) {
            e.preventDefault();
            N("div.result", view).controller("prototype/datepicker.html").submit();
        });
    }
});

</script>
<article id="refr0105" class="apiDoc">
	<h2>Form(N.form)</h2>

	<h3>개요</h3>
	<p>Form(이하 N.form)은 폼 입력, 조회 양식을 구성하는 폼 블록(Block)요소(DIV, TABLE, SPAN 등)에 데이터를 바인드(bind)하여 폼을 간단하게 구현 해 주는 컴포넌트입니다.</p>

	<h3>API DEMO</h3>
	<div data-page="form" class="apidemo"></div>

	<h3>HTML 템플릿(HTML templete)</h3>
<p class="alert">폼의 블록이 DIV이든 TABLE이든 상관없이 컴포넌트에 바인딩한 데이터의 컬럼명과 지정한 영역(context)안의 요소들 중 ID 가 매칭되는 요소가 있으면 해당 요소에 값을 표시 합니다.</p>
	<pre class="language-html"><code class="language-html"><xmp>
<table id="form" class="form">
	<tr height="43">
		<th style="width: 20%;" align="right"><label for="picture">picture</label></th>
		<td width="*"><img id="picture" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></td>
	</tr>
	<tr>
		<th><label for="name">name</label></th>
		<td>
			<input id="name" type="text" data-validate='[["required"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="email">email</label></th>
		<td>
			<input id="email" type="text" data-format='[["generic", "@@@@@@＊＊＊"]]' data-validate='[["required"], ["email"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="_id">password</label></th>
		<td>
			<input id="_id" type="password" data-validate='[["required"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="balance">balance</label></th>
		<td>
			<input id="balance" type="text" data-format='[["numeric", "$#,###.##0"]]' data-validate='[["required"], ["decimal"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="phone">phone</label></th>
		<td>
			<input id="phone" type="text" readonly="readonly" />
		</td>
	</tr>
	<tr>
		<th><label for="age">age</label></th>
		<td>
			<input id="age" type="text" disabled="disabled" />
			<input id="index" type="hidden" />
		</td>
	</tr>
	<tr>
		<th><label for="eyeColor">eye color</label></th>
		<td>
			<select id="eyeColor" data-validate='[["required"]]'>
				<option>선택</option>
			</select>
		</td>
	</tr>
	<tr>
		<th><label for="company">company</label></th>
		<td>
			<select id="company" multiple="multiple" data-validate='[["required"]]' style="height: 117px;"></select>
		</td>
	</tr>
	<tr>
		<th><label for="gender">gender</label></th>
		<td>
			<input id="gender" type="radio" />
		</td>
	</tr>
	<tr>
		<th><label for="favoriteFruit">favorite fruit</label></th>
		<td>
			<input id="favoriteFruit" type="checkbox" />
		</td>
	</tr>
	<tr>
		<th><label for="registered">registered</label></th>
		<td>
			<input id="registered" type="text" data-format='[["date", 8, "date"]]' data-validate='[["required"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="registered2">registered m</label></th>
		<td>
			<input id="registered2" type="text" data-format='[["date", 6, "month"]]' data-validate='[["required"]]' />
		</td>
	</tr>
	<tr>
		<th><label for="about">about</label></th>
		<td>
			<textarea id="about" data-format='[["limit", "50", "..."]]' data-validate='[["required"], ["korean"]]'></textarea>
		</td>
	</tr>
	<tr>
		<th><label for="greeting">about</label></th>
		<td id="greeting"></td>
	</tr>
	<tr>
		<th><label for="isActive">isActive</label></th>
		<td>
			<input id="isActive" type="checkbox" />
		</td>
	</tr>
</table></xmp></code></pre>

	<h3>생성자(Constructor)</h3>
	<table>
		<tr>
			<th>Name</th>
			<th>Arguments</th>
			<th>Type</th>
			<th>Return</th>
			<th style="width: auto;">Description</th>
		</tr>
		<tr>
			<td>N.form</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>N.form의 객체 인스턴스를 생성합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>data</td>
			<td>JSON Array</td>
			<td align="center">-</td>
			<td>기본옵션의 data 옵션과 같습니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>opts</td>
			<td>JSON Object</td>
			<td align="center">-</td>
			<td>기본 옵션을 JSON Object 형태로 지정 합니다.</td>
		</tr>
		<tr>
			<td>N(obj).form</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>
				<p>N.form의 객체 인스턴스를 jQuery 플러그인 방식으로 생성합니다.</p>
				<p>N.form과 동작되는 로직은 같으며 내부적으로 N()의 첫번째 인자가 N.form()의 첫 번째 인자로 지정 됩니다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>opts</td>
			<td>JSON Object</td>
			<td align="center">-</td>
			<td>N.form의 opts 옵션과 같습니다.</td>
		</tr>
	</table>

	<h3>기본옵션(Default options)</h3>
	<table>
		<tr>
			<th>Name</th>
			<th>Type</th>
			<th>Default</th>
			<th>Required</th>
			<th style="width: auto;">Description</th>
		</tr>
		<tr>
			<td>data</td>
			<td>JSON Array</td>
			<td>undefined</td>
			<td align="center">○</td>
			<td>context(HTML Templete)요소에 바인드 할 데이터</td>
		</tr>
		<tr>
			<td>row</td>
			<td>int</td>
			<td>-1</td>
			<td></td>
			<td>
				<p>data옵션으로 지정한 데이터 에서 폼에 바인드할 단건 데이터의 row index</p>
				<p class="alert">컴포넌트의 기본값은 –1 이지만 입력하지 않으면 0으로 세팅되어 첫번째 index에 해당하는 데이터를 바인드 하게 됩니다.</p>
			</td>
		</tr>
		<tr>
			<td>context</td>
			<td>jQuery Object</td>
			<td>null</td>
			<td align="center">○</td>
			<td>폼을 적용할 폼 블록(Block)요소를 지정합니다.</td>
		</tr>
		<tr>
			<td>validate</td>
			<td>boolean</td>
			<td>true</td>
			<td></td>
			<td>입력요소의 실시간 검증을 할건지 유무를 지정 합니다.</td>
		</tr>
		<tr>
			<td>html</td>
			<td>boolean</td>
			<td>false</td>
			<td></td>
			<td>bind 시 HTML 태그를 인식할건지 그대로 표시할건지 유무를 지정 합니다.</td>
		</tr>
		<tr>
			<td>revert</td>
			<td>boolean</td>
			<td>false</td>
			<td></td>
			<td>
				<p>revert 기능을 활성(true), 비활성(false) 시킵니다.</p>
				<p class="alert">revert 기능을 활성화 하면 최초 바인딩된 데이터를 메모리에 적제 하므로 데이터 바인딩 성능이 저하될 수 있습니다.</p>
			</td>
		</tr>
		<tr>
			<td>unbind</td>
			<td>boolean</td>
			<td>ture</td>
			<td></td>
			<td>
				<p>unbind 기능을 활성(true), 비활성(false) 시킵니다.</p>
				<p class="alert">unbind 기능을 활성화 하면 폼을 초기화하기 전 입력요소들의 데이터를 메모리에 적제 하므로 데이터 바인딩 성능이 저하될 수 있습니다.</p>
			</td>
		</tr>
		<tr>
			<td>addTop</td>
			<td>boolean</td>
			<td>false</td>
			<td></td>
			<td>
				<p>add 메서드를 호출했을 때 새로운 데이터세트를 입력된 데이터의 상단에 생성할건지 하단에 생성할건지를 결정 합니다.</p>
				<p>true 이면 상단에 생성하고 false 이면 하단에 생성 합니다.</p>
			</td>
		</tr>
		<tr>
			<td>fRules</td>
			<td>Array</td>
			<td>null</td>
			<td></td>
			<td>포맷룰을 지정 합니다. Natural-DATA - 포멧 룰 참고</td>
		</tr>
		<tr>
			<td>vRules</td>
			<td>Array</td>
			<td>null</td>
			<td></td>
			<td>검증룰을 지정 합니다. Natural-DATA - 검증 룰 참고</td>
		</tr>
	</table>

	<h3>선언형옵션(Declarative options)</h3>
	<table>
		<tr>
			<th>Name</th>
			<th style="width: 65px;">Type</th>
			<th>Default</th>
			<th style="width: auto;">Description</th>
		</tr>
		<tr>
			<td>format</td>
			<td>Array[Array]</td>
			<td>undefined</td>
			<td>포맷룰을 지정 합니다. Natural-DATA - 포멧 룰 참고</td>
		</tr>
		<tr>
			<td>validate</td>
			<td>Array[Array]</td>
			<td>undefined</td>
			<td>검증룰을 지정 합니다. Natural-DATA - 검증 룰 참고</td>
		</tr>
	</table>

	<h3>함수(Methods)</h3>
	<table>
		<tr>
			<th>Name</th>
			<th>Arguments</th>
			<th>Type</th>
			<th>Return</th>
			<th style="width: auto;">Description</th>
		</tr>
		<tr>
			<td>data</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>JSON Array</td>
			<td>컴포넌트에 바인드 되어 있는 최종 데이터를 반환 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>selFlag</td>
			<td>boolean</td>
			<td align="center">-</td>
			<td>
				반환되는 데이터의 형태를 결정하는 구분자 입니다.
				<div class="alert">
					<p>selFlag 인자 값에 따라 다음과 같은 형식의 데이터를 반환 합니다.</p>
					<ul>
						<li>입력하지 않았거나 undefined : JSON Array 형태의 데이터를 반환 합니다.</li>
						<li>true : 폼에 바인드되어 있는 데이터만 추출하여 반환 합니다.</li>
						<li>false : jQuery Object 형태의 데이터를 반환 합니다.</li>
					</ul>
				</div>
			</td>
		</tr>
		<tr>
			<td>row</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>int</td>
			<td>현재 바인드되어 있는 데이터의 row index를 가져옵니다.</td>
		</tr>
		<tr>
			<td>context</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>jQuery Object</td>
			<td>컴포넌트를 적용한 요소를 반환 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>selector</td>
			<td>String</td>
			<td align="center">-</td>
			<td>selector 문자열을 입력하면 해당 context 하위 요소에서 선택된 요소를 반환 합니다.</td>
		</tr>
		<tr>
			<td>bind</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>지정된 context에 데이터를 바인드 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>row</td>
			<td>int</td>
			<td align="center">-</td>
			<td>인자값으로 row index를 지정 하면 컴포넌트에 바인드 되어있는 데이터 리스트에서 지정한 row index 에 해당하는 데이터를 바인드 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>data</td>
			<td>JSON Array</td>
			<td align="center">-</td>
			<td>data인자를 지정하면 컴포넌트에 바인드 된 데이터가 지정한 데이터로 치환되어 바인드 됩니다.</td>
		</tr>
		<tr>
			<td>unbind</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>데이터를 bind 하기 전 상태로 되돌려 줍니다.</td>
		</tr>
		<tr>
			<td>add</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td colspan="2">
				<p>새로운 로우 데이터를 생성 합니다.</p>
				<p>로우 데이터 생성 시 폼요소안의 입력요소의 id 와 값들로 데이터를 생성합니다.</p>

				<p>신규입력 페이지와 같이 입력된 데이터를 서버에 보낼 때 사용 하면 됩니다.</p>
				<p>N.form 초기화 후 add 메서를 호출하기만 하면 폼요소의 값들이 새로 생성된 데이터와 연동되므로 저장 버튼에 data 메서드를 호출하여 서버로 보내기만 하면 됩니다.</p>
			</td>
		</tr>
		<tr>
			<td>revert</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>최초 수정하기 전이나 add() 시 최초 생성된 데이터로 되돌려 줍니다.</td>
		</tr>
		<tr>
			<td>validate</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>N.form</td>
			<td>수정되거나 입력된 데이터 전체를 검증하여 검증결과를 반환 합니다. 검증 메시지는 입력요소 옆에 툴팁으로 표시 됩니다.</td>
		</tr>
		<tr>
			<td>val</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>Value object or N.form</td>
			<td colspan="2">
				<p>선택한 값을 가져오거나 입력 합니다.</p>
				<p>val 인자를 입력하지 않으면 선택한 값을 반환하고 입력하면 선택한 컬럼의 값을 입력한 값으로 바꿔준다.</p>
				<p> 값 입력 시 key 에 해당하는 HTML 요소가 없으면 데이터만 생성한다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>key</td>
			<td>String</td>
			<td align="center">-</td>
			<td>가져올 값의 key 컬럼명</td>
		</tr>
		<tr>
			<td></td>
			<td>val</td>
			<td>Value object</td>
			<td align="center">-</td>
			<td>저장할 값</td>
		</tr>
	</table>
</article>

<script type="text/javascript">
N("article#refr0105").cont({
    init : function(view, request) {
    	// code highlight
    	if(N.browser.msieVersion() === 0 || N.browser.msieVersion() > 8) {
			view.find("code").each(function() {
				Prism.highlightElement(this);
	    	});
    	}

    	//load api demo page
    	N(".apidemo", view).each(function() {
    		N(this).comm("html/apid/" + N(this).data("page") + ".html").submit();
    	});
    }
});
</script>
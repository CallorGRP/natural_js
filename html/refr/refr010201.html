<style>
	.refr010201 td {
		vertical-align: top;
	}

	.refr010201 td > h4 {
	    font-size: 12px;
	    font-weight: normal;
	}
</style>

<article class="refr010201" class="apiDoc">
	<h2 class="notIndex">N</h2>

	<!-- 목차 -->
	<ul class="contents links" style="width: 190px;margin-left: -231px;"></ul>

	<h3>
		<span lang="ko_KR">개요</span>
		<span lang="en_US">Overview</span>
	</h3>
	<p>N은 Natural-JS를 처음 시작하는 함수 입니다. jQuery 의 $와 같은 역할을 수행하며 Natural-JS 의 N() 처럼 N 함수로 초기화하고 이후 실행되는 메서드들은 jQuery 의 $ 함수 로 실행해도 됩니다. 반대로 jQuery 의 기능들은 모두 N() 에 상속되어 있으므로 jQuery 메서드를 호출할 때 $() 대신 N()을 사용해도 됩니다. Natural-CORE 의 함수들은 기본적으로 Natural-JS 만을 위해서 제작 되었으나 개발할 때 공통적으로 사용되어져야할 함수들은 다음과 같이 사용할 수 있습니다.</p>

	<h3>
		<span lang="ko_KR">함수</span>
		<span lang="en_US">Methods</span>
	</h3>
	<table>
		<tr>
			<th>Name</th>
			<th>Arguments</th>
			<th>Type</th>
			<th>Return</th>
			<th style="width: auto;">Description</th>
		</tr>
		<tr>
			<td><h4>N</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>jQuery Object<sup>1)</sup></td>
			<td style="max-width: 299px;">
				<p>Natural 의 플러그인 형태로 제공되는 라이브러리들과 N클래스의 멤버변수(함수)가 정의 되어있는 핵심 클래스입니다.</p>
				<p>N(selector<sup>2)</sup> or function, object, HTML Element(이하 element))를 호출하면 jQuery 의 init 메서드가 호출되어 Naturl-JS 와 jQuery가 동시에 초기화(Initialize) 됩니다.</p>
				<pre><code class="language-javascript">var divs = N("div");</code></pre>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>selector</td>
			<td>jQuery Object, selector or function, object, element</td>
			<td align="center">-</td>
			<td>JSON data나 selector 등.</td>
		</tr>
		<tr>
			<td></td>
			<td>context</td>
			<td>jQuery Object</td>
			<td align="center">-</td>
			<td>element를 지정할 때 지정된 element 가 속해있는 element 영역을 지정할 수 있습니다.</td>
		</tr>
		<tr>
			<td><h4>N.locale</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>Natural-JS 의 현제 로케일을 설정 합니다. 설정한 로케일에 따라 프레임워크에서 사용자에게 보여주는 메시지들도 다국어처리가 됩니다. 현제 등록된 다국어 메시지 리소스는 en_US, ko_KR 만 있습니다. 메시지 세트는 config에서 손쉽게 추가 할 수 있습니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>str</td>
			<td>String</td>
			<td></td>
			<td>"en_US", "ko_KR" 등의 로케일 문자열</td>
		</tr>
		<tr>
			<td><h4>N.error</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>ErrorThrown</td>
			<td>에러를 발생 시키고 에러 메시지를 브라우저 콘솔창에 보여줍니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>msg</td>
			<td>String</td>
			<td></td>
			<td>에러 텍스트 메시지</td>
		</tr>
		<tr>
			<td></td>
			<td>e</td>
			<td>ErrorThrown</td>
			<td align="center">-</td>
			<td>에러 발생시 생성되는 ErrorThrown 객체를 입력 하면 Error Stack Trace 로그를 브라우저 콘솔창에 보여 줍니다. (Chrome 에서만 지원)</td>
		</tr>
		<tr>
			<td><h4>N.info</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>
				<p>콘솔창에 Warnning 메시지를 보여 줍니다</p>
				<p class="alert">console.info 를 Wrapping 한 함수로서 console.log 와 사용법이 동일 합니다.</p>
				<p class="alert">브라우저에서 console.info을 지원하지 않으면 메시지가 표시되지 않습니다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>msg</td>
			<td>String</td>
			<td></td>
			<td>
				<p>텍스트 메시지</p>
			</td>
		</tr>
		<tr>
			<td><h4>N.warn</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>
				<p>콘솔창에 Warnning 메시지를 보여 줍니다</p>
				<p class="alert">console.warn 를 Wrapping 한 함수로서 console.log 와 사용법이 동일 합니다.</p>
				<p class="alert">브라우저에서 console.warn을 지원하지 않으면 메시지가 표시되지 않습니다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>msg</td>
			<td>String</td>
			<td></td>
			<td>
				<p>텍스트 메시지</p>
			</td>
		</tr>
		<tr>
			<td><h4>N.log</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>
				<p>콘솔창에 로깅(Logging) 메시지를 보여 줍니다</p>
				<p class="alert">console.log 를 Wrapping 한 함수로서 console.log 와 사용법이 동일 합니다.</p>
				<p class="alert">브라우저에서 console.log를 지원하지 않으면 메시지가 표시되지 않습니다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>msg</td>
			<td>String</td>
			<td></td>
			<td>
				<p>텍스트 메시지</p>
			</td>
		</tr>
		<tr>
			<td><h4>N.serialExecute</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>[jQuery Deferred Objects]</td>
			<td>
				<p>순서대로 실행되어야 하는 비동기 실행 로직들의 계층적 콜백 들을 $.Deferred 를 사용하여 직렬로 표기 할 수 있게 해 주는 함수 입니다.</p>
				<ul>
					<li>비동기로 작동하는 로직과 그 로직의 전처리, 후처리 로직을 하나의 함수 블록으로 만들어 N.serialExecute 함수에 개수 상관없이 인자로 넣어 주면 됩니다.</li>
					<li>기입된 인자의 순서대로 함수들이 실행 되고 다음 인자로 정의한 함수 블록을 실행 하기 위해서는 해당 비동기 로직이 끝나는 시점(다음 함수가 실행되어야 하는 시점)에 함수 블록의 인자로 반환되는 Deferred 객체에서 resolve 함수를 실행 시켜 주어야 합니다.</li>
					<li>인자로 정의되는 함수 블록에서 defer.resolve 의 인자들은 그 다음 실행 될 함수 블록의 두번째 인자부터 순서대로 배당 됩니다.</li>
					<li>각 함수 블록의 this 와 Return 객체는 인자로 정의 된 함수 블록 들의 jQuery Deferred 객체들이 담겨 있는 Array 입니다.</li>
					<li>이 this 를 가지고 첫번째 함수 블록의 비동기 로직의 완료 시점(시작 시점에서는 아직 다음 함수 블록의 Deferred 객체가 생성되지 않았기 때문에 해당 함수 블록 앞에 정의 된 함수 블록들은 참조 가능하나 이후에 정의 된 함수 블록은 참조가 불 가능)에 this[2].resolve() 와 같이 호출하면 두번째, 세번째 함수 블록을 건너 뛰고 네번째 함수 블록을 실행 시킬 수 있습니다.</li>
				</ul>
				<p>예)</p>
				<p>다음과 같은 일반적인 비동기 실행 로직이 있습니다.</p>
				<pre class="line-numbers"><code class="language-javascript">
setTimeout(function() {
	setTimeout(function() {
		N.comm("url").submit(function() {
			setTimeout(function() {
				N.log("4 번 로직 완료");
			}, 500);
			N.log("3 번 로직 완료");
		});
		N.log("2 번 로직 완료");
	}, 500);
	N.log("1 번 로직 완료");
}, 500);</code></pre>
				<p>N.serialExecute를 사용하면 위와 같은 계층적 비동기 로직을 아래와 같이 직렬로 선언 할 수 있습니다.</p>
				<pre class="line-numbers"><code class="language-javascript">
var defers = N.serialExecute(
    function(defer){
		setTimeout(function() {
        	defer.resolve(arg0, arg1);
        	N.log("1 번 로직 완료");
        }, 500);
    },
	function(defer, arg0, arg1){
		setTimeout(function() {
        	defer.resolve();
        	N.log("2 번 로직 완료");
        }, 500);
    },
    function(defer){
		N.comm("url").submit(function() {
        	defer.resolve(arg0);
        	N.log("3 번 로직 완료");
        });
    },
    function(defer, arg0){
		setTimeout(function() {
        	defer.resolve();
        	N.log("4 번 로직 완료");
        }, 500);
    }
);</code></pre>
				<p>추가로, jQuery $.when을 이용 하여 위 소스코드 에서 반환된 defers 변수 객체로 함수 블록 들을 그룹 지어 해당 그룹의 함수 블록 들이 모두 완료 된 후 로직을 실행 시킬 수도 있습니다.</p>
				<pre class="line-numbers"><code class="language-javascript">
// 두번째, 세번째 함수 블록이 모두 완료 되면 로직을 실행
$.when(defers[1], defers[2]).done(function(arg0, agr1) {
	// agr0, arg1 은 각 함수 블록에서 defer.resolve 함수를
	// 호출 할 때 인자로 지정한 오브젝트들
	N.log("2번, 3번 로직 모두 완료");
});

// 전체 함수 블록들이 모두 완료 되면 로직을 실행
$.when.apply($, defers).done(function(arg0, agr1, arg2, agr3) {
	// agr0, arg1, agr2, arg3 은 각 함수 블록에서
	// defer.resolve 함수를 호출 할 때 인자로 지정한 오브젝트들
	N.log("1번, 2번, 3번, 4번 로직 모두 완료");
});</code></pre>
			</td>
		</tr>
		<tr>
			<td><h4>N.gc.minimum</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>JSON Object</td>
			<td>
				<p>Natural-JS 의 컴포넌트와 라이브러리에서 사용되는(하는) 요소와 이벤트에 대한 최소한의 자원을 회수합니다.</p>
				<p class="alert">natural.config.js 에서 설정한 page context(N.context.attr("architecture").page.context) 영역에 N.comm로 페이지를 불러올경우 N.gc.minimum() 이 자동으로 호출 됩니다.</p>
			</td>
		</tr>
		<tr>
			<td><h4>N.gc.full</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>JSON Object</td>
			<td>
				<p>Natural-JS 의 컴포넌트와 라이브러리에서 사용되는(하는) 요소와 이벤트에 대한 모든 자원을 회수합니다.</p>
				<p>페이지가 redirect 되지않고 N.comm 으로 블록 페이지를 불러오는 방식(SPA(Single Page Application) 방식)으로 사이트를 제작할때 브라우저의 메모리가 사용할 수록 증가한다면 N.gc.full()을 호출하면 브라우저 환경을 쾌적하게 유지 시킬 수 있습니다. N.gc.full()이 호출될 타이밍은 제작되는 사이트의 환경에 따라 적절하게 catch 하여  사용하기 바랍니다.</p>
			</td>
		</tr>
		<tr>
			<td><h4>N.browser<br>.cookie</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>쿠키를 생성 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>String</td>
			<td align="center">-</td>
			<td>쿠키명</td>
		</tr>
		<tr>
			<td></td>
			<td>value</td>
			<td>String</td>
			<td align="center">-</td>
			<td>쿠키값</td>
		</tr>
		<tr>
			<td></td>
			<td>expiredays</td>
			<td>number</td>
			<td align="center">-</td>
			<td>만료일</td>
		</tr>
		<tr>
			<td></td>
			<td>domain</td>
			<td>String</td>
			<td align="center">-</td>
			<td>쿠키가 생성될 도메인</td>
		</tr>
		<tr>
			<td>
				N.browser<br>.removeCookie
			</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>undefined</td>
			<td>생성된 쿠키를 제거 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>String</td>
			<td align="center">-</td>
			<td>쿠키명</td>
		</tr>
		<tr>
			<td></td>
			<td>domain</td>
			<td>String</td>
			<td align="center">-</td>
			<td>해당 쿠키가 생성된 도메인</td>
		</tr>
		<tr>
			<td><h4>N.browser.msieVersion</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>number</td>
			<td>현재 접속한 Microsoft Internet Explorer(이하 MSIE)의 버전을 가져옵니다. MSIE가 아닐 경우 0을 반환 합니다.</td>
		</tr>
		<tr>
			<td><h4>N.browser.is</h4></td>
			<td></td>
			<td></td>
			<td>boolean</td>
			<td>입력한 브라우저명과 현재 접속한 브라우저가 일치하면 true를 반환 합니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>String</td>
			<td align="center">-</td>
			<td>브라우저 명(opera, firefox, safari, chrome, ie) 나 모바일 OS 명(android, ios)</td>
		</tr>
		<tr>
			<td><h4>N.browser.contextPath</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>number</td>
			<td>현재 접속한 브라우저 URL 에서 컨텍스트 경로를 반환 합니다.</td>
		</tr>
		<tr>
			<td><h4>N.message<br>.get</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>메시지 리소스(config 에 정의)에서 현재 로케일에 맞게 메시지를 가져옵니다.</td>
		</tr>
		<tr>
			<td></td>
			<td>resource</td>
			<td>JSON Object</td>
			<td align="center">-</td>
			<td style="max-width: 299px;">
				<p>메시지 리소스</p>
				<p>메시지 리소스는 JSON Object 형태로 만들면 되고 하위에 메시지 세트를 구성해야 함.</p>
				<pre><code class="language-javascript">var message = {
	&quot;ko_KR&quot; : {
		key : ＂메시지{0}＂
	},
	&quot;en_US&quot; : {
		key : ＂message{0}＂
	}
}

var msg = N.message.get(message, "key", [" 입니다"]);</code></pre>
				<p>결과 : msg = "메시지 입니다"
			</td>
		</tr>
		<tr>
			<td></td>
			<td>key</td>
			<td>String</td>
			<td align="center">-</td>
			<td>메시지 키</td>
		</tr>
		<tr>
			<td></td>
			<td>vars</td>
			<td>Array</td>
			<td align="center">-</td>
			<td>메시지 변수를 치환할 값</td>
		</tr>
		<tr>
			<td><h4>N().toArray</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>Array</td>
			<td>jQuery Object를 순수한 Array 객체로 반환 합니다.</td>
		</tr>
		<tr>
			<td><h4>N().instance</h4></td>
			<td align="center">-</td>
			<td align="center">-</td>
			<td>Object</td>
			<td style="max-width: 299px;">
				<p>Natural-JS 는 기본적으로 컴포넌트나 라이브러리들에 의해 생성된 인스턴스를 대상 HTML element(이하 요소)가 있다면 대상요소에 인스턴스를 저장 합니다.</p>
				<p>N().instance 메서드는 이 인스턴스를 요소에 저장하고 가져오는 역할을 수행 합니다.</p>
				<p>arguments 의 개수와 타입에 따라 다음과 같이 라이브러리 인스터스를 가져 올 수 있습니다.</p>
				<pre><code class="language-javascript">// 조회한 요소에 저장되어 있는 모든 인스턴스를 Array 로 모두 반환 합니다.
var all = N("div#sample1", "div#sample2").instance();</code></pre>
				<pre><code class="language-javascript">// 조회한 요소에 저장되어 있는 모든 요소를 지정한 콜백에 반환 합니다.
var all = N("div#sample1", "div#sample2").instance(function(instanceId, instance) {
	// this : instance
	// instanceId : 저장 된 인스턴스의 식별자
	// instance : 저장 된 인스턴스
});</code></pre>
				<pre><code class="language-javascript">// 조회한 요소에 instanceId 가 "name" 으로 저장되어 있는 모든 요소를 반환 합니다.
// 반환된 인스턴스가 1개 이면 인스턴스 원형을 반환하고 1개 이상이면 Array 에 담아 반환합니다.
// 반환된 인스턴스가 없다면 undefined 를 반환 합니다.
var all = N("div#sample1", "div#sample2").instance("name");</code></pre>
				<pre><code class="language-javascript">// 조회한 요소에 instanceId 가 "name" 으로 저장되어 있는 모든 요소를 지정한 콜백에 반환 합니다.
var all = N("div#sample1", "div#sample2").instance("name", function(instanceId, instance) {
	// this : instance
	// instanceId : 저장 된 인스턴스의 식별자
	// instance : 저장 된 인스턴스
});</code></pre>
				<pre><code class="language-javascript">// 조회한 요소에 instanceId 가 "name" 으로 instance 를 저장 합니다.
N("div#sample1").instance("name", instance);</code></pre>
				<p class="alert">인스턴스 저장 시 instance 인자가 function 타입이면 정상작동 하지 않을 수 있습니다. function 타입을 제외한 object 나 string 과 같은 타입을 instance 인자로 지정하기 바랍니다.</p>
			</td>
		</tr>
		<tr>
			<td></td>
			<td>name</td>
			<td>String</td>
			<td align="center">-</td>
			<td>인스턴스 명</td>
		</tr>
		<tr>
			<td></td>
			<td>instance</td>
			<td>Object or callback function(이하 callback)</td>
			<td align="center">-</td>
			<td>
				<p>인스턴스 or 인스턴스를 가져올 callback</p>
				<p class="alert">callback의 인자는 index(arguments[0])와 각각의 instance(arguments[1])가 들어옵니다. 이 callback 안의 this 는 각각의 instance를 가리킵니다.</p>
			</td>
		</tr>
	</table>

	<fieldset>
		<legend>주석</legend>
		<ul class="footnotes">
			<li>1) jQuery Object : jQuery()를 실행하면 반환되는 jQuery 확장 객체 or jQuery selector</li>
			<li>2) selector : jQuery에서 CSS selector 형식으로 지정하는 String 형태의 문자열이나 JSON Object, Aray, HTML Element, Function 등의 Object</li>
		</ul>
	</fieldset>

</article>

<script type="text/javascript">

N(".refr010201").cont({
    init : function(view, request) {

    }
});

</script>
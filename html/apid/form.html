<article id="form">
	<p class="smallContTit">Data : </p>
	<div class="dataBox">
		<pre class="data" class="line-numbers"><code id="data" class="language-javascript">[
	{
	    "_id": "53e21cba9f982281b3459438",
	    "index": 0,
	    "guid": "1a9e5450-c664-4bfd-8174-d03005eca08d",
	    "isActive": "Y",
	    "balance": "1284.38",
	    "picture": "http://placehold.it/32x32",
	    "age": 26,
	    "eyeColor": "green",
	    "name": "Dean Stanley",
	    "gender": "male",
	    "company": ["ASSISTIX", "CANDECOR"],
	    "email": "deanstanley@zentia.com",
	    "phone": "+1 (920) 409-2680",
	    "address": "936 Meserole Street, Vicksburg, Massachusetts, 1198",
	    "about": "Mollit elit qui reprehenderit fugiat excepteur adipisicing sunt id proident laborum sint proident.\r\nAmet cupidatat ipsum do irure qui magna sunt pariatur commodo eiusmod ipsum qui ad culpa.",
	    "registered": "2014-07-27T03:58:09 -09:00",
	    "registered2": "2014-11-10T03:58:09 -09:00",
	    "latitude": 81.131606,
	    "longitude": 87.110498,
	    "greeting": "<font color='red'>Hello, Dean Stanley! You have 1 unread messages.</font>",
	    "favoriteFruit": ["strawberry", "banana"]
	},
	{
	    "_id": "53e21cba47868d69889d7910",
	    "index": 1,
	    "guid": "9b855e26-2903-4b9a-b04a-e96544db2543",
	    "isActive": "N",
	    "balance": "1461.27",
	    "picture": "http://placehold.it/32x32",
	    "age": 31,
	    "eyeColor": "brown",
	    "name": "Howard Kramer",
	    "gender": "female",
	    "company": "CANDECOR",
	    "email": "howardkramer@assistix.com",
	    "phone": "+1 (806) 435-3679",
	    "address": "173 Harwood Place, Yonah, Guam, 8467",
	    "about": "Nisi velit eu non in dolor in. Qui aliquip sunt sit ut reprehenderit exercitation deserunt do. Sit voluptate officia qui fugiat qui dolor exercitation proident. Deserunt aliqua eiusmod eu magna dolor nostrud adipisicing excepteur.\r\n",
	    "registered": "2014-03-24T22:55:08 -09:00",
	    "latitude": -80.020226,
	    "longitude": -153.640872,
	    "greeting": "Hello, Howard Kramer! You have 9 unread messages.",
	    "favoriteFruit": ["apple", "strawberry"]
	},
    {
        "gender": [{
	        	"key" : "male",
	        	"val" : "male"
	        },{
	        	"key" : "female",
	        	"val" : "female"
        }],
        "eyeColor": [{
	        	"key" : "blue",
	        	"val" : "blue"
	        },{
	        	"key" : "brown",
	        	"val" : "brown"
	        },{
	        	"key" : "green",
	        	"val" : "green"
        }],
        "company": [{
	        	"key" : "PROSELY",
	        	"val" : "PROSELY"
	        },{
	        	"key" : "ASSISTIX",
	        	"val" : "ASSISTIX"
	        },{
	        	"key" : "VORATAK",
	        	"val" : "VORATAK"
	        },{
	        	"key" : "CANDECOR",
	        	"val" : "CANDECOR"
	        },{
	        	"key" : "BARKARAMA",
	        	"val" : "BARKARAMA"
	        },{
	        	"key" : "STOCKPOST",
	        	"val" : "STOCKPOST"
	        },{
	        	"key" : "MICROLUXE",
	        	"val" : "MICROLUXE"
	        },{
	        	"key" : "SHADEASE",
	        	"val" : "SHADEASE"
	        },{
	        	"key" : "ZENTIA",
	        	"val" : "ZENTIA"
        	},{
	        	"key" : "INTRADISK",
	        	"val" : "INTRADISK"
        }],
        "favoriteFruit": [{
	        	"key" : "apple",
	        	"val" : "apple"
	        },{
	        	"key" : "strawberry",
	        	"val" : "strawberry"
	        },{
	        	"key" : "banana",
	        	"val" : "banana"
        }]
    }
]</code></pre>
	</div>

	<p class="smallContTit">Default options : </p>
	<table class="form">
		<tr>
			<th width="10%" align="right">context</th>
			<td width="40%"><input id="context" type="text" value="table#form" readonly="readonly" /> Target element</td>
			<th width="10%" align="right">validate</th>
			<td width="40%"><input id="validate" type="checkbox" checked="checked" /> If this checkbox with uncheck(false), disable realtime validation check</td>
		</tr>
		<tr>
			<th>html</th>
			<td colspan="3"><input id="html" type="checkbox" /> If this checkbox with check(true), do not recognize HTML tags</td>
		</tr>
	</table>

	<p class="smallContTit">Method options : </p>
	<table class="form">
		<tr>
			<th width="10%">bind</th>
			<th width="10%">arguments[0]</th>
			<td width="80%" colspan="3">
				<input id="row" type="text" value="0" /> Row index for bind(default : 0)
			</td>
		</tr>
		<tr>
			<th width="10%" rowspan="2">val</th>
			<th width="10%">arguments[0]</th>
			<td width="80%" colspan="3">
				<input id="key" type="text" value="name" /> key name
			</td>
		</tr>
		<tr>
			<th width="10%">arguments[1]</th>
			<td width="80%" colspan="3">
				<input id="val" type="text" value="jeff beck" /> If empty value set, get value of key, otherwise set with this value
			</td>
		</tr>
		<tr>
			<th width="10%">data</th>
			<th width="10%">arguments[0]</th>
			<td width="80%" colspan="3">
				<input id="data" type="checkbox" checked="checked" /> If this checkbox with uncheck(false), get all data
			</td>
		</tr>
	</table>

	<div align="center" class="btnBox">
		<a id="btnInit" href="#" data-opts='{ "color": "gray", "size": "large" }'>Initialize form</a> |
		<a id="btnAdd" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>add</a> | or |
		<a id="btnBind" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>bind</a>
		<a id="btnRevert" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>revert</a> |
		<a id="btnVal" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>val</a>
		<a id="btnData" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>data</a>
		<a id="btnValidate" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>validate</a>
		<a id="btnReload" href="#" data-opts='{ "color": "white", "size": "large" }'>Reload this block page</a>
	</div>

	<p class="smallContTit">Result : </p>
	<div class="result">
		<table id="form" class="form" style="width: 478px;">
			<tr height="43">
				<th style="width: 20%;" align="right"><label for="picture">picture</label></th>
				<td width="*"><img id="picture" src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" /></td>
			</tr>
			<tr>
				<th><label for="name">name</label></th>
				<td>
					<input id="name" type="text" data-validate='[["required"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="email">email</label></th>
				<td>
					<input id="email" type="text" data-format='[["trimtoempty"], ["generic", "@@@@@@＊＊＊"]]' data-validate='[["required"], ["email"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="_id">password</label></th>
				<td>
					<input id="_id" type="password" data-validate='[["required"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="balance">balance</label></th>
				<td>
					<input id="balance" type="text" data-format='[["trimtoempty"], ["numeric", "$#,###.##0"]]' data-validate='[["required"], ["decimal"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="phone">phone</label></th>
				<td>
					<input id="phone" type="text" readonly="readonly" />
				</td>
			</tr>
			<tr>
				<th><label for="age">age</label></th>
				<td>
					<input id="age" type="text" disabled="disabled" />
					<input id="index" type="hidden" />
				</td>
			</tr>
			<tr>
				<th><label for="eyeColor">eye color</label></th>
				<td>
					<select id="eyeColor" data-validate='[["required"]]'>
						<option>선택</option>
					</select>
				</td>
			</tr>
			<tr>
				<th><label for="company">company</label></th>
				<td>
					<select id="company" multiple="multiple"></select>
				</td>
			</tr>
			<tr>
				<th><label for="gender">gender</label></th>
				<td>
					<input id="gender" type="radio" />
				</td>
			</tr>
			<tr>
				<th><label for="favoriteFruit">favorite fruit</label></th>
				<td>
					<input id="favoriteFruit" type="checkbox" />
				</td>
			</tr>
			<tr>
				<th><label for="registered">registered</label></th>
				<td>
					<input id="registered" type="text" data-format='[["date", 8, "date"]]' data-validate='[["required"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="registered2">registered m</label></th>
				<td>
					<input id="registered2" type="text" data-format='[["date", 6, "month"]]' data-validate='[["required"]]' />
				</td>
			</tr>
			<tr>
				<th><label for="about">about</label></th>
				<td>
					<textarea id="about" data-format='[["trimtoempty"], ["limit", "50", "..."]]' data-validate='[["required"], ["korean"]]'></textarea>
				</td>
			</tr>
			<tr>
				<th><label for="greeting">about</label></th>
				<td id="greeting"></td>
			</tr>
			<tr>
				<th><label for="isActive">isActive</label></th>
				<td>
					<input id="isActive" type="checkbox" />
				</td>
			</tr>
		</table>
	</div>

	<p class="smallContTit">Source Code :</p>
	<pre class="line-numbers"><code id="sourceCode" class="language-markup"></code></pre>
</article>

<script type="text/javascript">
	N("article#form").cont({
	    init : function(view, request) {
	    	// source Code
	    	N.comm({
	       		url : "html/apid/" + view.attr("id") + ".html",
	       		dataType : "html"
	       	}).submit(function(html) {
	       		$("#sourceCode", view).text(html);
	       	});

	    	// initialize buttons in div.btnBox
	    	N("div.btnBox a", view).button();

	    	// data
	    	var data = eval(N("code#data", view).text());

	    	// create selects
	    	this.createSelects(data);

	    	// bind events
	    	this.setEvents(view, this, data)
	    },
	    createSelects : function(data) {
	    	$(data[2].eyeColor).select("select#eyeColor").bind();
			$(data[2].company).select("select#company").bind();
			$(data[2].gender).select("input#gender").bind();
			$(data[2].favoriteFruit).select("input#favoriteFruit").bind();
	    },
	    setEvents : function(view, this_, data) {
	    	var form;
	    	N("#btnInit", view).click(function(e) {
	    		e.preventDefault();

	    		var opts = {
	    			context : N("input#context", view).val(),
	    			validate : N("input#validate", view).is(":checked"),
	    			html : N("input#html", view).is(":checked")
	    		}

	    		form = N(data).form(opts);

	    		N("div.btnBox", view).find("a").instance("button", function() {
	    			if(this.context().is("#btnInit") || this.context().is("#btnRevert")) {
	    				this.disable();
	    			} else {
		            	this.enable();
	    			}
	            });
	    	});

	        N("#btnBind", view).click(function(e) {
	            e.preventDefault();
	            form.bind(parseInt($("input#row").val()));

	            N("#btnAdd", view).instance("button").disable();
	            N("#btnRevert", view).instance("button").enable();
	        });

	        N("#btnAdd", view).click(function(e) {
	            e.preventDefault();
	            form.add();

	            N("#btnBind", view).instance("button").disable();
	        });

	        N("#btnRevert", view).click(function(e) {
	            e.preventDefault();
	            form.revert();
	        });

	        N("#btnVal", view).click(function(e) {
	            e.preventDefault();
	            var key = N.string.trimToNull(N("input#key", view).val());
	            var value = N.string.trimToNull(N("input#val", view).val());
	        	if(value !== null) {
	        		form.val(key, value);
	        	} else {
	        		N("div.result", view).alert(form.val(key)).show();
	        	}
	        });

	        N("#btnData", view).click(function(e) {
	        	e.preventDefault();
	        	N("div.result", view).alert({
	        		msg : '<div class="pre">' + N.json.format(form.data(N("input#data", view).is(":checked"))) + '</div>',
	        		width : 400,
	        		height : 250
	        	}).show();
	        });

	        N("#btnValidate", view).click(function(e) {
	            e.preventDefault();
	            N("table#form").alert('<b>전체검증 결과 : ' + form.validate() + '</b>').show()
	        });

	        N("#btnReload", view).click(function(e) {
	        	e.preventDefault();
	        	N(view.parent()).comm(this_.request.get("url")).submit();
	        });
	    },
	    /**
	     * for tab onOpen exemple
	     */
	    onOpen : function(onOpenData) {
	    	N.log("onOpen 콜백 실행\nonOpenData :\n" + JSON.stringify(onOpenData));
	    }
	});
</script>
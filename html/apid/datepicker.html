<article id="datepicker" class="view-code">
	<p class="smallContTit">Default options : </p>
	<table class="form">
		<tr>
			<th width="10%">monthonly</th>
			<td width="40%"><input id="monthonly" type="checkbox" />If this checkbox with check(true), display Monthpicker</td>
			<th width="10%">focusin</th>
			<td width="40%"><input id="focusin" type="checkbox" checked="checked" />If this checkbox with uncheck(false), disable to focusin event of date input element</td>
		</tr>
		<tr>
			<th width="10%">onSelect</th>
			<td colspan="3"><textarea id="onSelect" style="height: 96px;">function(context, selDate, monthonly) {
	N.log("onSelect");
	N.log(context);
	N.log(selDate);
	N.log(monthonly);
}</textarea><br /><br>Callback function for date select event</td>
		</tr>
		<tr>
			<th>onBeforeShow</th>
			<td><textarea id="onBeforeShow" style="height: 80px;">function(context, contents) {
	N.log("onBeforeShow");
	N.log(context);
	N.log(contents);
}</textarea><br /><br>Callback function for date onBeforeShow event</td>
			<th>onBeforeHide</th>
			<td><textarea id="onBeforeHide" style="height: 80px;">function(context, contents) {
	N.log("onBeforeHide");
	N.log(context);
	N.log(contents);
}</textarea><br /><br>Callback function for date onBeforeHide event</td>
		</tr>
	</table>

	<div align="center" class="btnBox">
		<a id="btnApply" href="#" data-opts='{ "color": "gray", "size": "large" }'>Apply Datepicker</a>
		<a id="btnShow" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>Show</a>
		<a id="btnHide" href="#" data-opts='{ "color": "skyblue", "size": "large", "disable": true }'>Hide</a>
		<a id="btnReload" href="#" data-opts='{ "color": "white", "size": "large" }'>Reload this block page</a>
	</div>

	<p class="smallContTit">Result : </p>
    <div align="center" class="result" style="height: 70px;padding-top: 30px;">
    	<label for="datepicker">Datepicker</label> <input id="datepicker" type="text" />
    	Click! this text input element <b>after click the [Apply Datepicker] button</b>
    </div>
</article>

<script type="text/javascript">
	N("article#datepicker").cont({
		datepicker : undefined,
	    init : function(view, request) {
	    	// initialize buttons in div.btnBox
	       	N("div.btnBox a", view).button();

	     	// bind events
	    	this.setEvents(view, this);

	     	//for communicator example
	     	if(request.attr("hello")) {
	     		N("div.result", view).alert('request.attr("hello") : <br/>' + request.attr("hello")).show();
	     	}
	    },
	    setEvents : function(view, this_) {
	        N("#btnApply", view).click(function(e) {
	        	e.preventDefault();

	        	var opts = {
	           		monthonly : N("input#monthonly", view).is(":checked"),
	           		onSelect : N.string.trimToNull(N("textarea#onSelect", view).val()) !== null ?
	           				eval("(" + N("textarea#onSelect", view).val() + ")") : null,
      				onBeforeShow : N.string.trimToNull(N("textarea#onBeforeShow", view).val()) !== null ?
           				eval("(" + N("textarea#onBeforeShow", view).val() + ")") : null,
      				onBeforeHide : N.string.trimToNull(N("textarea#onBeforeHide", view).val()) !== null ?
           				eval("(" + N("textarea#onBeforeHide", view).val() + ")") : null,
	           		focusin : N("input#focusin", view).is(":checked")
	       		};

	        	this_.datepicker = N("input#datepicker", view).datepicker(opts);

	           	N(this).instance("button").disable();
	           	N("#btnShow", view).instance("button").enable();
	           	N("#btnHide", view).instance("button").enable();
	        });

	        N("#btnShow", view).click(function(e) {
	        	e.preventDefault();
	        	this_.datepicker.show();
	        });

	        N("#btnHide", view).click(function(e) {
	        	e.preventDefault();
	        	this_.datepicker.hide();
	        });

	        N("#btnReload", view).click(function(e) {
	        	e.preventDefault();
	        	N(view.parent()).comm(this_.request.get("url")).submit();
	        });
	    }
	});
</script>
<article id="__gtst0100">
	<h1 lang="ko_KR">Natural-JS 시작하기</h1>
	<h1 lang="en_US">Getting Started Natural-JS</h1>
	<h2 lang="ko_KR">Natural-JS 환경설정과 Communicator(N.comm), Controller(N.cont)</h2>
	<h2 lang="en_US">Config of Natural-JS and Communicator(N.comm), Controller(N.cont)</h2>
	<p lang="ko_KR">Natural-JS 의 필수 라이브러리 파일은 다음과 같습니다.</p>
	<p lang="en_US">Natural-JS's required library files are as follows:</p>
	<ol>
		<li lang="ko_KR"><b>jquery-1.11.1.min.js</b> - Natural-JS 는 jQuery 를 기반으로 동작 하므로 반드시 임포트 해야합니다.</li>
		<li lang="en_US"><b>jquery-1.11.1.min.js</b> - You must import the jQuery library. because Natural-JS operates based on jQuery.</li>
		<li lang="ko_KR"><b>natural.core.js</b> - Natural-CORE 라이브러리 패키지 입니다.</li>
		<li lang="en_US"><b>natural.core.js</b> - Natural-CORE library package.</li>
		<li lang="ko_KR"><b>natural.architecture.js</b> - Natural-ARCHITECTURE 라이브러리 패키지 입니다.</li>
		<li lang="en_US"><b>natural.architecture.js</b> - Natural-ARCHITECTURE library package.</li>
		<li lang="ko_KR"><b>natural.data.js</b> - Natural-DATA 라이브러리 패키지 입니다.</li>
		<li lang="en_US"><b>natural.data.js</b> - Natural-DATA library package.</li>
		<li lang="ko_KR"><b>natural.ui.js</b> - Natural-UI 라이브러리 패키지 입니다.</li>
		<li lang="en_US"><b>natural.ui.js</b> - Natural-UI library package.</li>
		<li lang="ko_KR"><b>natural.ui.css</b> - Natural-UI 디자인 관련 스타일시트 입니다.</li>
		<li lang="en_US"><b>natural.ui.css</b> - The stylesheet for  Natural-UI design.</li>
		<li lang="ko_KR"><b>natural.config.js</b> - Natural-JS 의 환경설정 파일 입니다.</li>
		<li lang="en_US"><b>natural.config.js</b> - Config file of Natural-JS</li>
	</ol>
	<p lang="ko_KR">먼저 기본 HTML 파일을 만들고 위 파일들을 아래와 같은 순서로 페이지에 Import 해 줍니다.</p>
	<p lang="en_US">First, create basic HTML file. and then import the library files as follows order.</p>

	<pre><code class="language-markup">
&lt;script type="text/javascript" src="js/natural_js/lib/jquery-1.11.1.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript" src="js/natural_js/natural.core.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.architecture.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.data.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.ui.min.js"&gt;&lt;/script&gt;

&lt;link rel="stylesheet" type="text/css" href="js/natural_js/css/natural.ui.css" /&gt;

&lt;script type="text/javascript" src="js/natural_js/natural.config.js"&gt;&lt;/script&gt;</code></pre>

	<p lang="ko_KR">그다음 Natural-JS 의 구동 환경을 설정 합니다.<br>Natural-JS 의 환경설정 파일인 natural.config.js 파일을 열어보세요.</p>
	<p lang="en_US">then set the operating environment of the Natural-JS.<br>open the natural.config.js file that is a configuration file of Natural-JS.</p>

	<pre class="line-numbers"><code class="language-javascript">
/* Natural-ARCHITECTURE Config */
N.context.attr("architecture", {
	"page" : {
		"context" : "#natural_contents"
	},
	...
/* Natural-UI Config */
N.context.attr("ui", {
	"alert" : {
		"container" : "#natural_contents"
	...</code></pre>

	<p lang="ko_KR">위와 같은 JSON 형식의 구문이 보일겁니다. JSON 이 뭔지는 아시죠? 아주 쉬워요. 모르시면 아래 URL 을 클릭 해서 참고 하시구요.</p>
	<p lang="en_US">You will see the syntax of above look like JSON format. you might known what is the JSON. that is very easy. if you don't know, refer to the following URL</p>

	<a lang="ko_KR" class="link" target="blank_" href="http://www.json.org/json-ko.html">http://www.json.org/json-ko.html</a>
	<a lang="en_US" class="link" target="blank_" href="http://www.json.org">http://www.json.org</a>

	<p lang="ko_KR">Natrual-JS 에서 JSON 은 아주 중요 합니다. 서버와 송수신하는 데이터 형식이 JSON 문자열 형태이고 컴포넌트에 바인드 되는 데이터 형식도 JSON Objet Array 입니다.</p>
	<p lang="en_US">JSON is very important in Natrual-JS. The data format for communication with the server is string of JSON format and Controller(N.cont)'s callback object class is also a JSON type. Description for the Controller will be shown later</p>

	<p lang="ko_KR">다시 본론으로... Natural-JS의 환경설정값은 Context(N.context) 객체에 저장 됩니다.
		환경설정값중 위 구문에 해당하는 N.context.attr("architecture").page.context 값은 아주 중요한 값입니다.
		이 값은 Natural-JS의 컴포넌트 요소들이 적재 될 컨테이너 요소를 jQuery Selector 문자열로 지정하면 됩니다. 쉽게말해 페이지 컨텐츠들을 표시 할 동적으로 변하지 않는 박스 요소를 지정 하면 됩니다.
		더불어, N.context.attr("ui").alert.context 값에 N.alert HTML 요소를 저장하는 컨테이너 요소의 selector 를 지정 해 주세요. 보통 N.context.attr("architecture").page.context 값과 같은 요소를 지정하면 됩니다.
		Tab(N.tab) 이나 Popup(N.popup), Datepicker(N.datepicker)등 Natural-UI에서 지원하는 컴포넌트들의 자원이 여기(N.context.attr...context)에서 지정한 영역에 생성되고 페이지가 전환 될 때 이 영역에 다시 덮어 씌움으로서 브라우저의 자원을 반환하게 됩니다.
		페이지 Redirect를 하지 않는 Single Page Web Application을 개발 할 때 브라우저 리소스를 따로 관리 하지 않아도 되어서 편리 하겠죠?
		그 외 환경설정 값들은 [API/DEMO] > [Natural-CORE] > [Config 탭]의 내용중 [Config 예시] 부분을 참고 하세요.</p>
	<p lang="en_US">Back to the point... Natural-JS environment settings are stored in the Context (N.context) object.
		N.context.attr("architecture").page.context value in the above syntaxes is a very important value among the environment settings.
		This value is specify for jQuery-selector string of the container element that contained Natural-JS's component elements. In other words, specify the dynamically unchanging element box that contained page content.
		In addition, Specify the container element selector that stores the N.alert HTML element in N.context.attr("ui").alert.context value. You specify the same element usually as the N.context.attr("architecture").page.context value.
		Resources of components supported by Natural-UI such as Tab (N.tab), Popup (N.popup), and Datepicker (N.datepicker) are created in the area specified here(N.context.attr...context)
		and when the page is changed, it will return the browser's resources by overwriting it again.
		When developing a Single Page Web Application that does not redirect pages, you don't have to manage browser resources separately.
		For other environment setting values, refer to [Config Example] in [API / DEMO] > [Natural-CORE] > [Config Tab].</p>
	<p lang="ko_KR">N.config(natural.config.js) 에는 대부분 UI 컴포넌트들의 전역 설정값들이 지정 되어 있고 모든 컴포넌트들은 여기에서 설정한 옵션값들을 기본으로 구동 됩니다.</p>
	<p lang="en_US">In N.config (natural.config.js), the global settings for most UI components are specified, and all components are based on the options set here.</p>
	<p lang="ko_KR">Natural-JS의 컴포넌트 옵션의 적용 우선순위는 다음과 같습니다.</p>
	<p lang="en_US">Natural-JS's component option's applied priority is as follows.</p>
	<ol>
		<li lang="ko_KR">컴포넌트를 초기화 할 때 지정한 옵션 값</li>
		<li lang="en_US">The specified option values when initializing the component</li>
		<li lang="ko_KR">환경설정(N.config)에서 지정한 옵션 값</li>
		<li lang="en_US">The specified options values in N.config</li>
		<li lang="ko_KR">컴포넌트의 기본 옵션 값</li>
		<li lang="en_US">The default option values ​​of component</li>
	</ol>
	<p>컴포넌트 클래스의 기본 옵션값중 환경설정 파일(natural.config.js)에 지정되지 않은 옵션값은 컴포넌트 초기화 시 따로 옵션을 지정하지 않았다면 컴포넌트 클래스의 기본옵션값으로 동작 됩니다.
		환경설정 파일에 정의되지 않은 컴포넌트 클래스의 기본 옵션값을 사이트 전역 옵션값으로 설정하고 싶다면 환경설정 파일의 해당 컴포넌트 부분에 추가 하면 됩니다.
		예를 들어 사이트내에서 동작되는 모든 그리드 컴포넌트 Body영역의 높이를 300픽셀로 기본값을 설정하고 싶다면 N.context.attr("ui").grid 부분에 다음과 같이 추가하면 됩니다.</p>
	<pre class="line-numbers"><code class="language-javascript">
N.context.attr("ui", {
	...
	"grid" : {
		...
		"height" : 300,
		...
	}
	...</code></pre>
	<p>
		"..." 은 생략 기호이니 그대로 넣지 마세요. ^^<br> 자~ 그럼 이제 환경설정은 끝났으니 본격적으로 개발을 시작 해 볼까요?
	</p>
	<p>Natural-JS는 페이지내에서 개발영역과 디자인영역을 구분하고 요소(Element)간, 스크립트 간 영역(scope)을 보장 해 주기위한 간단한 소스코드의 구성 규칙이 있습니다. 별로 어렵지
		않습니다. 다음과 같이 View 영역과 Controller 영역만 구분하고 순서대로 배치해 주면 됩니다.</p>
	test_html.html
<pre class="line-numbers"><code class="language-markup">
&lt;!-- View Context --&gt;
&lt;div id="viewCont"&gt;
	&lt;div id="result"&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;!-- View Context --&gt;

&lt;script type="text/javascript"&gt;
/* Controller Context */
N("#viewCont").cont({
	init : function(view, request) {
    	// Start here.
    }
});
/* Controller Context */
&lt;/script&gt;</code></pre>
	<p>
		각각의 페이지의 단위 조각들은 위와 같은 형식의 파일로 분할 할 수 있습니다. 이 분할 된 파일들은 N.comm 이나 Tab, Popup 등으로 불러와 페이지에 포함 시켜주면 물리적인 요소나 스크립트는 같은
		페이지 안에 있지만 Controller(N.cont)가 논리적으로 구분을 시켜 줍니다. 말이 어렵죠? 그냥 같은 페이지에 다른 페이지를 마구 때려 넣어도 스크립트 겹치거나 요소의 구분이 흔들리지 않는 다는
		말입니다. ^^ 위 소스를 본문 컨텐츠 페이지로 활용할 경우에는 index 페이지를 따로 만들고 index 페이지에 Natural-JS 의 스크립트를 로딩하고 본문영역에만 위 내용이 담긴 파일을
		Communicator(N.comm)을 통해서 index페이지의 본문 컨텐츠 영역에 넣어 주기만 하면 되겠지요? Communicator에 대한 설명은 이후에 나옵니다.<br> 위 내용을
		"c:/natural_js/test_html.html" 파일로 저장하고 이 내용을 index 페이지에서 불러 보겠습니다. 먼저 다음 내용을 참고 해서 "c:/natural_js/index.html" 파일로 저장
		해 주세요.
	</p>
	index.html
	<pre class="line-numbers"><code class="language-markup">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="X-UA-Compatible" content="IE=Edge; text/html; charset=utf-8" /&gt;
&lt;title&gt;Natural-JS&lt;/title&gt;
&lt;script type="text/javascript" src="js/natural_js/lib/jquery-1.11.1.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.core.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.architecture.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.data.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.ui.min.js"&gt;&lt;/script&gt;
&lt;link rel="stylesheet" type="text/css" href="js/natural_js/css/natural.ui.css" /&gt;
&lt;script type="text/javascript" src="js/natural_js/natural.config.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
$(document).ready(function() {
    ...
});
&lt;/script&gt;

&lt;/head&gt;
&lt;body&gt;
	&lt;div id="header"&gt;
		&lt;a id="logo" href="index.html"&gt;Natural-JS&lt;/a&gt;
	&lt;/div&gt;
	&lt;div id="natural_contents"&gt;
		&lt;!-- This area is the page context(N.context.attr("architecture").page.context). --&gt;
	&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
	<p>
		$(document).ready() 메서드 아시죠? 화면의 HTML 요소들이 브라우저에 로딩이 완료된 다음에 수행되는, document.body의 onload 이벤트와 같은 역할을 수행 하는 jQuery 에서
		제공하는 기능 입니다.<br> 서버에 데이터를 보내고 가져오는 역할을 수행하는 모듈은 Communicator(N.comm)(이하 N.comm) 입니다.<br> $(document).ready()
		부분을 밑에 구문으로 바꿔 주세요.
	</p>
	<pre class="line-numbers"><code class="language-javascript">...
$(document).ready(function() {
	N(N.context.attr("architecture").page.context).comm("test_html.html").submit()
})
...</code></pre>
	<p>위와 같이 실행하면 config 에서 정의한 N.context.attr("architecture").page.context 의 값 "#natural_contents" div 요소에 N.comm을 통해
		가져온 HTML파일의 내용을 넣어 줍니다.</p>
	<p>페이지를 불러왔으니 이제는 N.comm 으로 데이터를 불러와 보겠습니다.</p>
	<p>Natural-JS 의 송수신 데이터 형식은 JSON 이라고 했죠? 먼저 json 형태로 데이터를 서비스 해 주는 서버가 필요합니다. 여기서 서버단의 작업에 대해서는 생략할께요. Spring MVC
		이나 PHP 로 간단하게 LIST 나 Map 형태의 객체를 JSON 형태로 변환해주는 모듈들이 어마무지하게 많이 있습니다. 아래 URL을 클릭하여 들어가면 언어별 변환모듈에 대한 링크가 많이 있습니다. 좋은거
		골라서 하나 쓰면 됩니다.</p>

	<a class="link" target="blank_" href="http://www.json.org/json-ko.html">http://www.json.org/json-ko.html</a>

	<p>일단, 서버없이 한번 해보고 싶다면 다음과 같이 로컬에 JSON 형태의 Text 를 담은 파일을 하나 생성해 주세요</p>
	c:/natural_js/test_data.json
	<pre><code class="language-javascript">
[
  {
    "_id": "53e21cba9f982281b3459438",
    "index": 0,
    "guid": "1a9e5450-c664-4bfd-8174-d03005eca08d",
    "isActive": "Y",
    "balance": "$1,284.38",
    "picture": "http://placehold.it/32x32",
    "age": 26,
    "eyeColor": "green",
    "name": "Dean Stanley",
    "gender": "male",
    "company": "ZENTIA",
    "email": "deanstanley@zentia.com",
    "phone": "+1 (920) 409-2680",
    "address": "936 Meserole Street, Vicksburg, Massachusetts, 1198",
    "about": "Mollit elit qui reprehenderit fugiat excepteur adipisicing sunt id proident laborum sint proident.",
    "registered": "2014-02-20T03:58:09 -09:00",
    "latitude": 81.131606,
    "longitude": 87.110498,
    "greeting": "Hello, Dean Stanley! You have 1 unread messages.",
    "favoriteFruit": "strawberry"
  },
  {
    "_id": "53e21cba47868d69889d7910",
    "index": 1,
    "guid": "9b855e26-2903-4b9a-b04a-e96544db2543",
    "isActive": "N",
    "balance": "$1,461.27",
    "picture": "http://placehold.it/32x32",
    "age": 31,
    "eyeColor": "green",
    "name": "Howard Kramer",
    "gender": "male",
    "company": "ASSISTIX",
    "email": "howardkramer@assistix.com",
    "phone": "+1 (806) 435-3679",
    "address": "173 Harwood Place, Yonah, Guam, 8467",
    "about": "Nisi velit eu non in dolor in. Qui aliquip sunt sit ut reprehenderit exercitation deserunt do.",
    "registered": "2014-03-24T22:55:08 -09:00",
    "latitude": -80.020226,
    "longitude": -153.640872,
    "greeting": "Hello, Howard Kramer! You have 9 unread messages.",
    "favoriteFruit": "apple"
  },
  {
    "_id": "53e21cba7a3cbdd773b7449d",
    "index": 2,
    "guid": "95b45a67-64ae-4bd6-a61f-c9226cfdf5af",
    "isActive": "Y",
    "balance": "$2,923.03",
    "picture": "http://placehold.it/32x32",
    "age": 26,
    "eyeColor": "green",
    "name": "Grace Hardy",
    "gender": "female",
    "company": "PROSELY",
    "email": "gracehardy@prosely.com",
    "phone": "+1 (872) 553-3815",
    "address": "526 Havemeyer Street, Holtville, Puerto Rico, 6513",
    "about": "Cillum incididunt reprehenderit elit laborum et sunt veniam. Velit pariatur id velit id occaecat.",
    "registered": "2014-03-13T16:54:10 -09:00",
    "latitude": 17.758973,
    "longitude": -112.334365,
    "greeting": "Hello, Grace Hardy! You have 8 unread messages.",
    "favoriteFruit": "strawberry"
  }
]</code></pre>
	<p>대부분의 브라우저는 Ajax로 로컬파일을 참조할 수 없게 막혀 있습니다. 그러나 파이어폭스는 그냥 열려있네요? IE 도 보안경고 메시지가 뜨면 허용 해 주면 됩니다. 크롬도 이걸 해제시키는 방법이
		있는데 구글링해서 찾아보세요. ^^ 일단 파이어폭스로 해 보겠습니다.</p>
	<pre class="line-numbers"><code class="language-javascript">
...
N("#viewCont").cont({
	init : function(view, request) {
		N.comm("test_data.json").submit(function(data) {
			// data is received data from the server
			N("#result", view).text(JSON.stringify(data));
		});
    }
});</code></pre>
	<p>
		미리 만들어 놓은 "c:/natural_js/index.html" 파일을 파폭으로 열어 보세요. index 페이지에 의해 "c:/natural_js/test_html.html" 파일이 로딩되고 N.cont의
		콜백함수의 init 함수가 최초 실행 됩니다. 위 로직이 실행되면 id 가 result 인 div 요소안에 불러온 파일의 내용이 표시 될 겁니다. 서버가 있다면 c:/natural_js/test_data.json
		대신 데이터를 서비스 해 주는 URL 을 입력 하면 됩니다.<br> 서버에 파라메터를 보내고 싶다면 다음과 같이 N() 함수의 Argument로 파라메터를 넣고 실행 해 주세요. JSON 형태의
		파라메터를 서버에서 받으려면 서버에 JSON String 을 Map 객체로 변환 해 주는 모듈이 있어야 겠죠?
	</p>
	<pre class="line-numbers"><code class="language-javascript">
...
N("#viewCont").cont({
	init : function(view, request) {
		N({ param1 : "This is parameter 1" }).comm("test_data.json").submit(function(data) {
			// data is received data from the server
			N("#result", view).text(JSON.stringify(data));
		});
    }
});</code></pre>
	<p>피들러나 브라우저에서 제공하는 개발자 도구의 network 탭에 가서 확인 해 보면 '{ param1 : "This is parameter 1" }' 라는 텍스트가 해당 URL 로 전송되는것을 확인 할 수 있습니다.</p>
	<p>
		N().comm 에서 N() 의 Argument 로 HTML 요소나 jQuery select 가 지정되면 지정된 영역에 HTML 을 표시 해 주고 JSON 오브젝트를 지정하고 comm() 의 Argument로
		데이터를 서비스하는 URL을 지정하면 요청한 URL의 파라메터가 됩니다.<br> <br> N.comm 과 N.cont 에서 제공하는 상세 기능을 확인 하려면 API 문서를 참고 하세요.
	</p>
	<p>이제 기본 구조를 알았으니 API 문서 참고해서 신나게 개발 해 볼까요?</p>
	<p><a class="link" href="html/refr/refr0101.html">API 문서 및 API 데모 바로가기</a></p>
</article>

<script type="text/javascript">
N("#__gtst0100").cont({
    init : function(view, request) {
    	// code highlight
    	if(N.browser.msieVersion() === 0 || N.browser.msieVersion() > 8) {
			view.find("code").each(function() {
				Prism.highlightElement(this);
	    	});
    	}

    	CommonUtilController.setPageLinks(N("a.link", view).not("[target='blank_']"));
    }
});
</script>